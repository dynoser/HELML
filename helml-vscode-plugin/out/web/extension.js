(()=>{"use strict";var e={650:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});class n{static encode(e,t=0){let r=[];e=n.iterablize(e);let o=t?"~":"\n",i=1===t,s=i?".":":",l=i?"_":" ",a=Array.isArray(e);if(!a&&n.ENABLE_BONES){const t=Object.keys(e),n=Array.from({length:t.length},((e,t)=>String(t)));a=t.every(((e,t)=>e===n[t]))}return n._encode(e,r,0,s,l,a),i?r.push(""):t&&(r=r.map((e=>e.trim())).filter((e=>""!==e&&!e.startsWith("#")))),r.join(o)}static _encode(e,t,r=0,o=":",i=" ",s=!1){const l=null===n.CUSTOM_VALUE_ENCODER?n.valueEncoder:n.CUSTOM_VALUE_ENCODER;for(let a in e){let u=e[a];if(s&&n.ENABLE_BONES)a="--";else if(!s){let e=a.charAt(0),t=a.charAt(a.length-1);-1!==a.indexOf(o)||"#"===e||e===i||" "===e||""===e||t===i||" "===t?e="-":("_"===i?/^[ -}]+$/.test(a):/^[^\x00-\x1F\x7E-\xFF]+$/.test(a))||(e="-"),"-"===e&&(a="-"+n.base64Uencode(a))}let c=o.repeat(r);n.ENABLE_SPC_IDENT&&" "===i&&(c=i.repeat(r*n.ENABLE_SPC_IDENT)+c);let f=Array.isArray(u);null===u||!f&&"object"!=typeof u?(u=l(u,i),t.push(c+a+o+u)):(n.ENABLE_KEY_UPLINES&&" "===i&&t.push(""),t.push(c+(f?a:a+o)),u=n.iterablize(u),n._encode(u,t,r+1,o,i,f),n.ENABLE_HASHSYMBOLS&&" "===i&&t.push(" ".repeat(r)+"#"))}}static decode(e,t=[0]){"number"!=typeof t&&"string"!=typeof t||(t=[t]);let r=new Set(["0"]);t.forEach(((e,t)=>{"number"==typeof e&&r.add(e.toString())}));let o=":",i=" ",s="\n";for(s of["\n","~","\r"])if(-1!==e.indexOf(s)){"~"===s&&e.endsWith("~")&&(o=".",i="_");break}let l=e.split(s);return n._decode(l,r,o,i)}static _decode(e,t,r,o){const i=null===n.CUSTOM_VALUE_DECODER?n.valueDecoder:n.CUSTOM_VALUE_DECODER;let s="0",l=s,a=new Set(["0"]),u={},c=[],f=-1;for(let d of e){if(d=d.trim(),!d.length||"#"===d.charAt(0))continue;let e=0;for(;d.charAt(e)===r;)e++;if(e)d=d.substring(e);else if(d.startsWith("//"))continue;const h=d.indexOf(r);let _=-1===h?d:d.substring(0,h),p=-1===h?null:d.substring(h+1);(f<0||f>e)&&(f=e);let g=c.length-(e-f);if(g>0){for(;c.length&&g--;)c.pop();l=s}let y=u;for(let e of c)y=y[e];if("-"===_.charAt(0))if("--"===_||"---"===_)_="object"==typeof y?String(Object.keys(y).length):"0";else{if("-+"===_||"-++"===_){null!==p&&(p=p.trim()),"-++"===_?(s=p||"0",l=s):"-+"===_&&(l=null==p?Number.isInteger(parseInt(l))?String(l+1):s:""===p?s:p),a.add(l);continue}{let e=n.base64Udecode(_.substring(1));null!==e&&(_=e)}}null===p||""===p?(y[_]=null===p?[]:{},c.push(_),l=s):t.has(l)&&(y[_]=i(p,o))}return a.size>1&&(u._layers=Array.from(a)),u}static valueEncoder(e,t=" "){if("string"==typeof e){let r;return r="_"===t?/^[ -}]+$/.test(e):/^[^\x00-\x1F\x7E-\xFF]+$/.test(e),r&&e.length?t===e[0]||t===e.slice(-1)||" "===e.slice(-1)?"'"+e+"'":t+e:"-"+n.base64Uencode(e)}{const r=typeof e;switch(r){case"boolean":e=e?"T":"F";break;case"undefined":e="U";break;case"number":if(e===1/0)e="INF";else if(e===-1/0)e="NIF";else if(Number.isNaN(e))e="NAN";else if("_"===t&&!Number.isInteger(e))return"-"+n.base64Uencode(String(e));case"bigint":e=null==e?void 0:e.toString();break;case"object":if(null===e){e="N";break}default:throw new Error(`Cannot encode value of type ${r}`)}}return t+t+e}static valueDecoder(e,t=" "){const r=e.charAt(0);if(t===r){if(e.substring(0,2)!==t+t)return e.slice(1);let r=e.slice(2);return r in n.SPEC_TYPE_VALUES?n.SPEC_TYPE_VALUES[r]:/^-?\d+(.\d+)?$/.test(r)?-1!==r.indexOf(".")?parseFloat(r):parseInt(r,10):"function"==typeof n.CUSTOM_FORMAT_DECODER?n.CUSTOM_FORMAT_DECODER(e,t):r}if('"'===r||"'"===r)return e=e.slice(1,-1),'"'===r?n.stripcslashes(e):e;if("-"===r)e=e.slice(1);else if("function"==typeof n.CUSTOM_FORMAT_DECODER)return n.CUSTOM_FORMAT_DECODER(e,t);return n.base64Udecode(e)}static base64Uencode(e){let t;if("undefined"!=typeof window)t=window.btoa(e);else if("undefined"!=typeof Buffer)t=Buffer.from(e,"binary").toString("base64");else{if("function"!=typeof btoa)throw new Error("Not found me base64-encoder");t=btoa(e)}return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}static base64Udecode(e){for(e=e.replace(/-/g,"+").replace(/_/g,"/");e.length%4;)e+="=";try{let t;if("undefined"!=typeof window)t=window.atob(e);else if("undefined"!=typeof Buffer)t=Buffer.from(e,"base64").toString("binary");else{if("function"!=typeof atob)throw new Error("Not found base64-decoder");t=atob(e)}return t}catch(e){return null}}static iterablize(e){return"function"!=typeof e[Symbol.iterator]?(e[Symbol.iterator]=function*(){const e=[];for(const t in this)this.hasOwnProperty(t)&&e.push([t,this[t]]);yield*e},e):e instanceof Set||e instanceof Map?Array.from(e.values()):e}static stripcslashes(e){const t={"\\n":"\n","\\t":"\t","\\r":"\r","\\b":"\b","\\f":"\f","\\v":"\v","\\0":"\0","\\\\":"\\"};return e.replace(/\\(n|t|r|b|f|v|0|\\)/g,(e=>t[e]))}}n.ENABLE_BONES=!0,n.ENABLE_SPC_IDENT=1,n.ENABLE_KEY_UPLINES=!0,n.ENABLE_HASHSYMBOLS=!0,n.CUSTOM_FORMAT_DECODER=null,n.CUSTOM_VALUE_DECODER=null,n.CUSTOM_VALUE_ENCODER=null,n.SPEC_TYPE_VALUES={N:null,U:void 0,T:!0,F:!1,NAN:NaN,INF:1/0,NIF:-1/0},t.default=n},38:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e){this.level=0,this.spc_left_cnt=0,this.spc_right_cnt=0,this.key="",this.value="",this.is_ignore=!0,this.is_creat=!1,this.is_list=!1,this.is_layer=!1,this.text=e,this.spc_left_cnt=0;let t=e.length;for(;t;){const n=e[t-1];if(" "!==n&&"\t"!==n)break;t--,this.spc_right_cnt++}if(!t)return;t!==e.length&&(e=e.substring(0,t));let n=0,r=0;for(let o=0;o<t;o++){const i=e[o];if(" "!==i&&"\t"!==i){for(let n=o;n<t&&":"===e[n];n++)r++;break}n++}this.spc_left_cnt=n,this.level=r;const o=e.charAt(n);if('"'===o||"["===o||"{"===o||"]"===o||"}"===o||","===o||"/"===o)return;if("#"===o)return void(this.key="#");this.is_ignore=!1;const i=e.indexOf(":",n+r+1),s=i<0&&n+r<t,l=i>n+r&&i===t-1;if(i>0){if(this.key=e.substring(n+r,i).trim(),!this.key.length)return void(this.is_ignore=!0);this.value=e.substring(i+1)}else s&&(this.is_list=!0,this.key=e.substring(n+r));this.key.startsWith("-+")?"-+"!==this.key&&"-++"!==this.key||(this.is_layer=!0):(l||this.is_list)&&(this.is_creat=!0)}}},203:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.edit_block_lookup=t.clearAllDecorations=t.reloadConfig=void 0;const l=i(n(496)),a=i(n(765)),u=s(n(38));let c,f,d,h,_;t.reloadConfig=function(){c=l.window.createTextEditorDecorationType(a.styles.upkeylist||a.styles.upkey||a.styles.upkeyarr||{border:"1px solid #880; padding: 4px;"}),f=l.window.createTextEditorDecorationType(a.styles.upkeyarr||a.styles.upkey||a.styles.upkeylist||{border:"1px solid #0D0; padding: 4px;"}),d=l.window.createTextEditorDecorationType(a.styles.onelevelkeys||{backgroundColor:"#040;"}),h=l.window.createTextEditorDecorationType(a.styles.subkeys||{backgroundColor:"#224;"}),_=l.window.createTextEditorDecorationType(a.styles.errkeys||{backgroundColor:"#800;",textDecoration:"underline wavy;"})},t.clearAllDecorations=function(e){e.setDecorations(c,[]),e.setDecorations(f,[]),e.setDecorations(d,[]),e.setDecorations(h,[]),e.setDecorations(_,[])};let p=[],g=[];function y(e,t,n){let r=n.range.start.translate(0,t.spc_left_cnt+t.level),o=r.translate(0,t.key.length);const i=new l.Range(r,o);p.push([e,i,t])}function b(e,t,n){let r=n.range.start.translate(0,t.spc_left_cnt+t.level),o=r.translate(0,t.key.length);const i=new l.Range(r,o);g.push([e,i,t])}function E(e,t=null,n=-1,r=!0){if(E.up_key_decorated_is_list!==r&&e.setDecorations(r?f:c,[]),E.up_key_decorated_line_num!==n){E.up_key_decorated_line_num=n;const o=[];null!==t&&n>=0&&o.push({range:t}),e.setDecorations(r?c:f,o),E.up_key_decorated_is_list=r}}E.up_key_decorated_line_num=-1,E.up_key_decorated_is_list=!1,t.edit_block_lookup=function(e){const t=l.window.activeTextEditor;if(!t)return;p=[],g=[];const{document:n,selection:r}=t;let o,i,s,a,c=n.getText(r),f=-1,m=-1,v=-1,L=!0,O=e;do{if(i=n.lineAt(O),o=new u.default(i.text),!o.is_ignore){if(-1!=o.key.indexOf(" "))break;if(-1!=o.key.indexOf('"'))break;f=O;break}}while(--O>=0);if(f>=0){y(f,o,i);let e,t,r=o.level,c=50;for(;O>=0;O--)if(e=n.lineAt(O),t=new u.default(e.text),!t.is_ignore){if(t.level===r)y(O,t,e);else{if(t.level<r){t.level===r-1&&t.is_creat&&(m=O,s=t,a=new l.Range(e.range.start,e.range.end));break}t.level===r+1&&b(O,t,e)}if(c--<0)break}let d=50;for(let o=f+1;o<n.lineCount;o++)if(e=n.lineAt(o),t=new u.default(e.text),!t.is_ignore){if(t.level===r)y(o,t,e),v=o;else{if(t.level<r)break;t.level===r+1&&b(O,t,e)}if(d--<0)break}}else L=!1;return m<0?E(t):E(t,a,m,null==s?void 0:s.is_list),L&&(function(e,t){let n,r,o;const i=[],s=[];let l=!1;for(const e of p){if([n,r,o]=e,l=!1,t){const e=o.key;"-"===e.charAt(0)||/^-?\d+(.\d+)?$/.test(e)||(l=!0)}l?s.push({range:r}):i.push({range:r})}e.setDecorations(d,i),e.setDecorations(_,s)}(t,null==s?void 0:s.is_list),function(e){let t,n,r;const o=[];for(const e of g)[t,n,r]=e,o.push({range:n});e.setDecorations(h,o)}(t)),{sel_text:c,isHELML:L,currLineNumber:f,currLineVS:i,currLineHELML:o,upKeyLineNumber:m,upKeyLineHELML:s,downLineNumber:v}}},268:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.HelmFoldingRangeProvider=void 0;const s=i(n(496));t.HelmFoldingRangeProvider=class{constructor(e=":"){this.levelChar=e}provideFoldingRanges(e,t,n){const r=s.FoldingRangeKind.Region,o=[],i=this.levelChar;let l=[0],a=[0],u=0,c=0,f=0;for(let t=0;t<e.lineCount;t++){const n=e.lineAt(t).text.trimLeft();if(!n.length||"#"===n.charAt(0)||n.startsWith("//")){c++;continue}f=t-c,c=0;let d=0;for(;n.charAt(d)===i;)d++;if(l[u]){if(d!==a[u])if(d>a[u])u++,l.push(f),a.push(d);else for(;a[u]>d;){const e=new s.FoldingRange(l[u]-1,t-1,r);if(o.push(e),u>0?(l.pop(),a.pop()):(l[u]=0,a[u]=d),!u)break;u--}}else d>a[u]&&(l[u]=f),a[u]=d}if(l){const t=new s.FoldingRange(l[u]-1,e.lineCount-1,r);o.push(t)}return o}}},765:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.reloadConfig=t.styles=t.HELMLLayersList=void 0;const l=i(n(496)),a=s(n(650)),u=i(n(203));function c(e=null){const n=l.workspace.getConfiguration("helml"),r="helml",o=n.get("enableident"),i=n.get("enablebones"),s=n.get("enableuplines"),c=n.get("enablehashsym");if(void 0!==o&&o!==a.default.ENABLE_SPC_IDENT&&(a.default.ENABLE_SPC_IDENT=o),void 0!==i&&i!==a.default.ENABLE_BONES&&(a.default.ENABLE_BONES=i),void 0!==s&&s!==a.default.ENABLE_KEY_UPLINES&&(a.default.ENABLE_KEY_UPLINES=s),void 0!==c&&c!==a.default.ENABLE_HASHSYMBOLS&&(a.default.ENABLE_HASHSYMBOLS=c),null===e||e.affectsConfiguration(r+".getlayers")){const e=n.get("getlayers");e&&(t.HELMLLayersList=[],e.split(",").forEach((e=>t.HELMLLayersList.push(e.trim()))))}if(null===e||e.affectsConfiguration(r+".style.upkey")){const e=n.get("style.upkey");if(e){const n=a.default.decode(e);n&&(t.styles.upkey=n)}}if(null===e||e.affectsConfiguration(`${r}.style`)){const e=n.get("style");if(e){t.styles={};for(const n of Object.keys(e)){const r=e[n];if(r){const e=a.default.decode(r);e&&(t.styles[n]=e)}}u.reloadConfig()}}}t.HELMLLayersList=["0"],t.styles={},t.reloadConfig=c,c(),l.workspace.onDidChangeConfiguration((e=>{e.affectsConfiguration("helml")&&c(e)}))},112:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function l(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,l)}a((r=r.apply(e,t||[])).next())}))},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.HELMLfromJSON=t.HELMLtoJSON=t.HELMLtoPHP=t.HELMLtoPython=t.HELMLtoLINE=t.HELMLtoURL=t.SELECTIONfromBase64url=t.SELECTIONtoBase64url=t.deactivate=t.activate=void 0;const a=i(n(496)),u=l(n(650)),c=i(n(765)),f=i(n(268)),d=i(n(901)),h=i(n(302)),_=i(n(203)),p=i(n(186)),g=l(n(472)),y=l(n(593));function b(e){return()=>{const t=a.window.activeTextEditor;if(!t)return;const{document:n,selection:r}=t,o=n.getText(r);if(!o)return void a.window.showWarningMessage("No text selected!");const i=e(o);i&&(t.edit((e=>{e.replace(r,i)})),_.clearAllDecorations(t))}}function E(e){try{return u.default.base64Uencode(e)}catch(e){return a.window.showErrorMessage(`Failed encode to base64url: ${e.message}`),null}}function m(e){try{return u.default.base64Udecode(e)}catch(e){return a.window.showErrorMessage(`Failed decode from base64url: ${e.message}`),null}}function v(e){try{let t=p.decodeJSONtry2(e);return null===t&&(t=u.default.decode(e,c.HELMLLayersList)),u.default.encode(t,1)}catch(e){return a.window.showErrorMessage(`Failed encode to HELML-url: ${e.message}`),null}}function L(e){try{let t=p.decodeJSONtry2(e);return null===t&&(t=u.default.decode(e,c.HELMLLayersList)),u.default.encode(t,2)}catch(e){return a.window.showErrorMessage(`Failed encode to HELML-url: ${e.message}`),null}}function O(e){try{let t=p.decodeJSONtry2(e);return null===t&&(t=u.default.decode(e,c.HELMLLayersList)),y.default.toPythonArr(t,1)}catch(e){return console.error("Error: failed to encode HELML to Python code",e),a.window.showErrorMessage("Failed to encode HELML to Python code"),null}}function N(e){try{let t=p.decodeJSONtry2(e);return null===t&&(t=u.default.decode(e,c.HELMLLayersList)),g.default.toPHParr(t,1)}catch(e){return console.error("Error: failed to encode HELML to PHP code",e),a.window.showErrorMessage("Failed to encode HELML to PHP code"),null}}function w(e){try{let t=p.decodeJSONtry2(e);return null===t&&(t=u.default.decode(e,c.HELMLLayersList)),JSON.stringify(t,null,"\t")}catch(e){return console.error("Error: failed to encode HELML to JSON",e),a.window.showErrorMessage("Failed to encode HELML to JSON"),null}}function M(e){let t=p.decodeJSONtry2(e);return null!==t?u.default.encode(t):(a.window.showErrorMessage("Failed to decode JSON to HELML!"),null)}t.activate=function(e){e.subscriptions.push(a.commands.registerCommand("helml.toJSON",b(w))),e.subscriptions.push(a.commands.registerCommand("helml.fromJSON",b(M))),e.subscriptions.push(a.commands.registerCommand("helml.toPHP",b(N))),e.subscriptions.push(a.commands.registerCommand("helml.toPython",b(O))),e.subscriptions.push(a.commands.registerCommand("helml.toBase64url",b(E))),e.subscriptions.push(a.commands.registerCommand("helml.fromBase64url",b(m))),e.subscriptions.push(a.commands.registerCommand("helml.toURL",b(v))),e.subscriptions.push(a.commands.registerCommand("helml.toLINE",b(L))),e.subscriptions.push(a.commands.registerCommand("helml.fromJSONDoc",(()=>s(this,void 0,void 0,(function*(){const e=a.window.activeTextEditor;if(!e)return;const{document:t,selection:n}=e;let r,o=t.getText(n),i=!o;t.isDirty,o?o===t.getText()&&(i=!0):o=t.getText();const s=M(o);s&&(t.fileName,r=yield a.workspace.openTextDocument({content:s,language:"helml"})),a.window.showTextDocument(r)}))))),e.subscriptions.push(a.languages.registerFoldingRangeProvider("helml",new f.HelmFoldingRangeProvider(":"))),e.subscriptions.push(d.onChangeTextDisposable),e.subscriptions.push(d.onChangeEventDisposable(e)),a.languages.registerHoverProvider("helml",h.hoverProvider)},t.deactivate=function(){},t.SELECTIONtoBase64url=E,t.SELECTIONfromBase64url=m,t.HELMLtoURL=v,t.HELMLtoLINE=L,t.HELMLtoPython=O,t.HELMLtoPHP=N,t.HELMLtoJSON=w,t.HELMLfromJSON=M},186:(e,t)=>{function n(e){return e.replace(/^(\s*)\/\/.*$/gm,"").replace(/\/\*[^*]*\*+([^\/*][^*]*\*+)*\//g,"")}function r(e){try{return JSON.parse(e)}catch(e){return null}}Object.defineProperty(t,"__esModule",{value:!0}),t.decodeJSONtry2=t.decodeJSONtry1=t.removeJSONcomments=void 0,t.removeJSONcomments=n,t.decodeJSONtry1=r,t.decodeJSONtry2=function(e){let t=r(e=e.trim());return null!==t?t:e.startsWith("{")||((e="{"+e).endsWith(",")&&(e=e.slice(0,-1)),t=r(e+="}"),null===t)?r(e=n(e)):t}},302:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.hoverProvider=t.exploreLine=void 0;const l=i(n(496)),a=s(n(650)),u=s(n(38)),c=i(n(203));function f(e,t){if(-1!=e.indexOf("~"))return null;let n=new u.default(e);if(n.is_ignore)return"#"===n.key?"*Comment line*":null;let r=n.key,o=n.value,i="`"+r+"`",s=o;if(n.is_layer)return s="*"+o+"*","-+"===r?o?"Layer temp: "+s:"Layer Next":o?"Layer init: "+s:"Layer init: 0";let l=!1,c=r.charAt(0);if("-"===c)if(l=!0,"--"===r)i="`NextNum`";else if(/^[A-Za-z0-9\-_+\/=]*$/.test(r)){let e=a.default.base64Udecode(r.substring(1));if(null===e)return"ERROR: Can't decode KEY from base64url";i=/^[ -~]+$/.test(e)?`(*${e}*)`:`(base64:${r})`}else i="ERROR: KEY must contain chars from base64/base64url encode";else if(" "===c)return"ERROR: space before key";if(n.is_creat)return null===o?`Create LIST: ${i}`:`Create Array: ${i}`;c=o.charAt(0);const f=o.length,d=f>1?o.charAt(1):"";if(" "===c){if(" "===d){let e=o.slice(2);switch(e){case"N":s=" *null*";break;case"U":s=" *undefined*";break;case"T":s=" *true*";break;case"F":s=" *false*";break;case"NAN":s=" *NaN*";break;case"INF":s=" *Infinity*";break;case"NIF":s=" *-Infinity*";break;default:s=/^-?\d+(.\d+)?$/.test(e)?-1!==e.indexOf(".")?" *(float)*"+e:" *(int)*"+e:" *(unknown)*"+e}}else if(!l)return`${i} = "${o}"`}else if('"'===c||"'"===c)s=`${c}*quoted value*"${c}`;else if("-"===c)if(1===f)s='""';else{if(!/^[A-Za-z0-9\-_+\/=]*$/.test(o))return"ERROR: VALUE must contain chars from base64/base64url encode";{let e=a.default.base64Udecode(o.substring(1));if(null===e)return"ERROR: Can't decode VALUE from base64url";s=`(*${e}*)`}}else s=`UNKNOWN or USER-DEFINED VALUE, fc="${c}"`;return i+":"+s}t.exploreLine=f,t.hoverProvider={provideHover(e,t){const n=e.lineAt(t).text,r=e.getWordRangeAtPosition(t);e.getText(r),c.edit_block_lookup(t.line);const o=f(n);return o?new l.Hover(o):null}}},901:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.onChangeEventDisposable=t.onChangeTextDisposable=void 0;const s=i(n(496)),l=i(n(203));let a,u;t.onChangeTextDisposable=s.workspace.onDidChangeTextDocument((e=>{var t;const n=s.window.activeTextEditor;if(n&&e.contentChanges.length){if("helml"!==n.document.languageId)return void l.clearAllDecorations(n);const r=[];let o=!1;for(const t of e.contentChanges){for(let e=t.range.start.line;e<=t.range.end.line;e++)r.push(e);!o&&t.text.includes("~")&&(o=!0)}if(r.length>1)return;const i=e.contentChanges[0];let a=i.text.indexOf("\n");if(a>-1&&a<i.text.length-1&&-1!=i.text.indexOf("\n",a+1)&&(a=-1),a<0)return;const u=e.contentChanges[0].range.start.line;let c=l.edit_block_lookup(u);if(void 0===c||c.currLineNumber<0)return;let f=c.currLineHELML;const d=f.key;let h=f.level,_=f.spc_left_cnt;if(""===d||h<1)return;f.is_creat&&(_++,h++);let p=" ".repeat(_)+":".repeat(h);if(("--"===d||(null===(t=c.upKeyLineHELML)||void 0===t?void 0:t.is_list))&&(p+="--:"),!p.length)return;const g=n.selection.active,y=g.with(u+1,0),b=g.with(u+1,p.length),E=g.with(u+1,p.length+_);n.edit((e=>{e.insert(y,p)})).then((()=>{n.selection=new s.Selection(b,E)}))}})),t.onChangeEventDisposable=e=>s.window.onDidChangeActiveTextEditor((t=>{const n=null==t?void 0:t.document.uri;n&&(a&&n===u||(u=n,a=s.languages.onDidChangeDiagnostics((e=>{e.uris.includes(n)&&(l.clearAllDecorations(t),a=void 0)})),e.subscriptions.push(a)))}))},472:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});class n{static toPHParr(e,t){"number"==typeof t?(t>10&&(t=10),t=" ".repeat(t)):t=t.slice(0,10);let r=function(e){return t?e.split("\n").map((function(e){return t+e})).join("\n"):e},o=typeof e;switch(!0){case"number"===o:if(Number.isNaN(e))return"NAN";if(e===1/0)return"INF";if(e===-1/0)return"-INF";case"string"===o:case"boolean"===o:case null===e:return JSON.stringify(e);case Array.isArray(e):return(t?"[\n":"[")+e.map((function(e){return n.toPHParr(e,t)})).map(r).join(t?",\n":",")+(t?"\n]":"]");case"object"===o&&!Array.isArray(e):let s=[];for(var i in e)s.push(JSON.stringify(i)+(t?" => ":"=>")+n.toPHParr(e[i],t));return(t?"[\n":"[")+s.map(r).join(t?",\n":",")+(t?"\n]":"]");default:throw new Error("parse error")}}}t.default=n},593:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{static toPythonArr(e,t=0){const n=" ".repeat(2*t);if(Array.isArray(e)){const r=e.map((e=>n+"  "+this.toPythonArr(e,t+1))).join(",\n");return r?"[\n"+r+"\n"+n+"]":"[]"}if("object"==typeof e&&null!==e){const r=Object.entries(e).map((([e,r])=>`${n}  ${JSON.stringify(e)}: ${this.toPythonArr(r,t+1)}`)).join(",\n");return r?"{\n"+r+"\n"+n+"}":"{}"}return Number.isNaN(e)?'float("nan")':e===1/0?'float("inf")':e===-1/0?'float("-inf")':null===e?"None":!0===e?"True":!1===e?"False":JSON.stringify(e)}}},496:e=>{e.exports=require("vscode")}},t={},n=function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}(112),r=exports;for(var o in n)r[o]=n[o];n.__esModule&&Object.defineProperty(r,"__esModule",{value:!0})})();
//# sourceMappingURL=extension.js.map